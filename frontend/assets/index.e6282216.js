import{c as Te,o as F,a as z,b as u,t as N,u as D,d as j,e as te,r as G,f as ne,w as H,n as Q,g as Oe,v as Le,h as se,i as Y,F as fe,j as be,k as ke,m as De,l as Fe,p as me,q as Ae,s as R,x as pe,y as Se,z as ze}from"./vendor.d16a1b09.js";const Ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerpolicy&&(c.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?c.credentials="include":a.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}};Ee();function ce(e){const t=new Date;return t.setDate(t.getDate()-e)}var Ie=Te({state(){return{publicKey:"",domains:[],host:"",key:"",start:ce(0),end:ce(0),range:"1",rangeString:"Latest",liveVisitors:0,showVisitors:!0,summary:{},dark:!1}},getters:{domains:e=>e.domains,dark:e=>e.dark,key:e=>e.key,publicKey:e=>e.publicKey,host:e=>e.host,start:e=>e.start,end:e=>e.end,range:e=>e.range,rangeString:e=>e.rangeString,liveVisitors:e=>e.liveVisitors,showVisitors:e=>e.showVisitors,summary:e=>e.summary},mutations:{setDark(e,t){e.dark=t},setKey(e,t){e.key=t},setPublicKey(e,t){e.publicKey=t},setDomains(e,t){e.domains=t},setHost(e,t){e.host=t},setStart(e,t){e.start=t},setEnd(e,t){e.end=t},setLiveVisitors(e,t){e.liveVisitors=t},setShowVisitors(e,t){e.showVisitors=t},setSummary(e,t){e.summary=t},setRangeString(e,t){e.rangeString=t},setRange(e,t){t||(t="1");let s={"-1":["Yesterday",1,1],"1":["Latest",0,0],"7":["Last 7 Days",7,0],"14":["1 week ago",14,7],"21":["2 weeks ago",21,14],"28":["3 weeks ago",28,21],"30":["Last 30 Days",30,0]}[t];if(t<-1&&t>-32){let c=t*-1;s=[`${new Date(ce(c)).toDateString()}`,c,c]}t.length===7&&(s=[`${t}`,t,t]),t>1e3&&t<3e3&&(s=[`${t}`,t,t]),e.rangeString=s[0],e.start=ce(s[1]),e.end=ce(s[2]),parseInt(t)==t&&(t=parseInt(t)),e.range=t;let a=`?host=${e.host}&range=${t}`;location.search!==a&&window.history.pushState("","",a)}}});const Me={class:"text-center mt-3"},Ne=j(" Copyright \xA9 2021-"),Re={class:"year"},Pe=j(),Ve=u("a",{href:"https://jamesfuthey.com/",target:"_blank"},"James Futhey",-1),We=j(". \xA0All Rights Reserved. "),qe={setup(e){const t=new Date().getFullYear();return(r,s)=>(F(),z("p",Me,[Ne,u("span",Re,N(D(t)),1),Pe,Ve,We]))}},Ke={class:"container"},He=u("a",{class:"navbar-brand",href:"/"},"Website Analytics",-1),Ue=u("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},[u("span",{class:"navbar-toggler-icon"})],-1),Ye={class:"collapse navbar-collapse",id:"navbarColor01"},Ge={class:"navbar-nav me-auto"},je={class:"nav-item"},Ze={class:"d-none d-md-inline-block form-check form-switch float-right"},Je={setup(e){const t=te(),r=G(!1);return ne(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&(r.value=!0)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{r.value=s.matches}),H(r,()=>{t.commit("setDark",r.value),document.querySelector("#theme").href=`https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.1.3/${r.value?"superhero":"zephyr"}/bootstrap.min.css`,r.value?document.body.classList.add("dark"):document.body.classList.remove("dark")}),(s,a)=>(F(),z("nav",{class:Q(["navbar navbar-expand-lg navbar-dark",{"mt-1":r.value,"bg-primary":!r.value}])},[u("div",Ke,[He,Ue,u("div",Ye,[u("ul",Ge,[u("li",je,[u("a",{class:Q(["nav-link cp",{"btn-dark":r.value,nudge:r.value}]),"data-bs-toggle":"modal","data-bs-target":"#embedScript"},"Add to your Website",2)])])]),u("div",Ze,[Oe(u("input",{class:"form-check-input",type:"checkbox",id:"themer","onUpdate:modelValue":a[0]||(a[0]=c=>r.value=c)},null,512),[[Le,r.value]]),u("label",{class:Q(["form-check-label",{"text-white":!r.value}]),for:"themer",style:{"user-select":"none"}},"Dark mode",2)])])],2))}},ae=()=>{const e=te();return Object.fromEntries(Object.keys(e.getters).map(t=>[t,se(()=>e.getters[t])]))},Xe={class:"modal",id:"embedScript",tabindex:"-1"},Qe={class:"modal-dialog modal-lg"},et=u("div",{class:"modal-header"},[u("h5",{class:"modal-title"},"Add to your Website"),u("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),tt={class:"modal-body"},st=u("h5",null,"Embed Code",-1),it=u("p",null,"Embed this script on your website, and your analytics data will appear here.",-1),at={rows:"4",spellcheck:"false",class:"form-control",id:"script","data-clipboard-target":"#script",style:{resize:"none","font-family":"monospace"}},nt=u("small",{class:"d-block mt-1"},[u("a",{class:"cp","data-clipboard-target":"#script"},"Copy to clipboard"),u("span",{class:"d-none"},"\xA0Copied!")],-1),ot=u("br",null,null,-1),rt=u("h5",null,"URL to View Analytics",-1),lt=u("p",null,"You will need the following URL to access (and decrypt) your analytics:",-1),ct={rows:"3",spellcheck:"false",class:"form-control",id:"url","data-clipboard-target":"#url",style:{resize:"none","font-family":"monospace"}},ut=u("small",{class:"d-block mt-1"},[u("a",{class:"cp","data-clipboard-target":"#url"},"Copy to clipboard"),u("span",{class:"d-none"},"\xA0Copied!")],-1),dt=u("p",null,[u("small",null,[u("strong",null,"Save your URL."),j(" If you lose this, you will need to reinstall analytics with a new encryption key.")])],-1),ht=u("div",{class:"modal-footer"},[u("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Close")],-1),ft={setup(e){const{key:t,publicKey:r,dark:s}=ae();let a={};location.search.slice(1).split("&").map(S=>S.split("=")).forEach(S=>a[S[0]]=S[1]);let c="https://analytics.servers.do",p=se(()=>r.value?`&lt;script>window.__analytics_encryption_key = '${r.value}';&lt;/script>
`:"");const m=se(()=>o(`&lt;!-- Servers.do Analytics -->
${p.value}&lt;script src='${c}/a.js'>&lt;/script>`)),d=se(()=>`${c}?host=${a.host}&range=${a.range}&key=${encodeURIComponent(t.value)}&pkey=${r.value}`);function o(S){return window.$("<textarea />").html(S).text()}return(S,h)=>(F(),z("div",Xe,[u("div",Qe,[u("div",{class:Q(["modal-content",{"bg-dark":D(s)}])},[et,u("div",tt,[st,it,u("p",null,[u("textarea",at,N(D(m)),1),nt]),ot,rt,lt,u("p",null,[u("textarea",ct,N(D(d)),1),ut]),dt]),ht],2)])]))}};const mt={class:"row"},pt={class:"col-6"},vt={class:"nav nav-pills mb-1 d-inline-block"},gt={class:"nav-item dropdown ms-auto"},yt={class:"nav-link dropdown-toggle cp","data-bs-toggle":"dropdown",role:"button"},_t=["src"],bt={class:"d-inline pt-2 mb-0 name"},kt={class:"dropdown-menu websites left"},St=["onClick"],wt=u("span",{class:"text-success d-none d-md-inline-block dot"},"\xB7",-1),xt={class:"current-visitors d-none d-md-inline-block"},$t={class:"col-6"},Bt={class:"nav nav-pills mb-1"},Ct={class:"nav-item dropdown ms-auto"},Tt={class:"dropdown-menu right"},Ot=u("div",{class:"dropdown-divider"},null,-1),Lt=u("div",{class:"dropdown-divider"},null,-1),Dt=u("div",{class:"dropdown-divider"},null,-1),Ft={setup(e){const t=G(new Date),r=G(!1),s=G("month"),a=G("month"),c=G("month"),p={to:new Date(new Date().setDate(new Date().getDate()-32)),from:new Date,preventDisableDateSelection:!0},{host:m,domains:d,range:o,rangeString:S,liveVisitors:h}=ae(),b=te();function i($,x){b.commit("setRange",$),x||(r.value=!1)}const g=$=>$.charAt(0).toUpperCase()+$.slice(1);function n(){var $=prompt("Enter domain name");if($){if($=$.toLowerCase().trim().replace("www.",""),$&&window.history.pushState("","",`?host=${$}&range=${o.value}`),$&&!(d.value||[]).includes($)){let x=d.value;Array.isArray(x)||(x=[]),x.includes($)||x.push($),localStorage.setItem("__analytics_hosts",JSON.stringify(x)),b.commit("setDomains",x)}$&&l($)}}function l($){window.history.pushState("","",`?host=${$}&range=${o.value}`),b.commit("setHost",$)}function y($){$==="month"?(s.value="month",a.value="month",c.value="month",b.commit("setRangeString","Custom month:")):$==="year"?(s.value="year",a.value="year",c.value="year",b.commit("setRangeString","Custom year:")):$==="day"&&(s.value="day",a.value="day",c.value="day",b.commit("setRangeString","Custom day:")),document.querySelector(".dropdown-menu.right.show").classList.remove("show"),r.value=!0,setTimeout(()=>{document.querySelector(".vuejs3-datepicker__value").click()},123)}function w($){if(s.value==="year"){let C=new Date($).getFullYear();i(C)}else if(s.value==="month"){let x=new Date($),C=x.getMonth()+1;i(`${x.getFullYear()}-${C<10?"0":""}${C}`)}else if(s.value==="day"){t.value=new Date($);let x=new Date-new Date($),C=Math.floor(x/864e5)*-1;i(C)}}return($,x)=>(F(),z("div",mt,[u("div",pt,[u("ul",vt,[u("li",gt,[u("a",yt,[D(m)?(F(),z("img",{key:0,class:"favicon",src:`https://logo.clearbit.com/${D(m)}`,onerror:"this.src='default.png';"},null,8,_t)):Y("",!0),u("h5",bt,N(g(D(m))||"Select a Domain"),1)]),u("div",kt,[(F(!0),z(fe,null,be(D(d),C=>(F(),z("a",{class:"dropdown-item cp",onClick:U=>l(C)},N(g(C)),9,St))),256)),u("a",{class:"dropdown-item cp",onClick:n},"Add Domain")])])]),wt,u("span",xt,"\xA0"+N(D(h)?`${D(h)} current visitor${D(h)==1?"":"s"}`:"No current visitors"),1)]),u("div",$t,[u("ul",Bt,[u("li",Ct,[u("a",{class:Q(["nav-link right cp",{"dropdown-toggle":!r.value}]),"data-bs-toggle":"dropdown",role:"button"},N(D(S)),3),u("div",Tt,[u("a",{class:"dropdown-item cp",onClick:x[0]||(x[0]=C=>i(1))},"Latest"),u("a",{class:"dropdown-item cp",onClick:x[1]||(x[1]=C=>i(-1))},"Yesterday"),u("a",{class:"dropdown-item cp",onClick:x[2]||(x[2]=C=>{y("day")})},"Custom Day"),Ot,u("a",{class:"dropdown-item cp",onClick:x[3]||(x[3]=C=>i(7))},"Last 7 Days"),u("a",{class:"dropdown-item cp",onClick:x[4]||(x[4]=C=>i(14))},"1 week ago"),u("a",{class:"dropdown-item cp",onClick:x[5]||(x[5]=C=>i(21))},"2 weeks ago"),u("a",{class:"dropdown-item cp",onClick:x[6]||(x[6]=C=>i(28))},"3 weeks ago"),Lt,u("a",{class:"dropdown-item cp",onClick:x[7]||(x[7]=C=>i(30))},"Last 30 Days"),Dt,u("a",{class:"dropdown-item cp",onClick:x[8]||(x[8]=C=>{y("month")})},"Custom Month"),u("a",{class:"dropdown-item cp",onClick:x[9]||(x[9]=C=>{y("year")})},"Custom Year")])]),r.value?(F(),ke(D(De),{key:0,name:"datepick",value:t.value,"disabled-dates":a.value=="day"?p:null,"initial-view":s.value,"minimum-view":a.value,"maximum-view":c.value,onInput:w},null,8,["value","disabled-dates","initial-view","minimum-view","maximum-view"])):Y("",!0)])])]))}};var P=P||function(e,t){var r={},s=r.lib={},a=function(){},c=s.Base={extend:function(i){a.prototype=this;var g=new a;return i&&g.mixIn(i),g.hasOwnProperty("init")||(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var g in i)i.hasOwnProperty(g)&&(this[g]=i[g]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}},p=s.WordArray=c.extend({init:function(i,g){i=this.words=i||[],this.sigBytes=g!=t?g:4*i.length},toString:function(i){return(i||d).stringify(this)},concat:function(i){var g=this.words,n=i.words,l=this.sigBytes;if(i=i.sigBytes,this.clamp(),l%4)for(var y=0;y<i;y++)g[l+y>>>2]|=(n[y>>>2]>>>24-8*(y%4)&255)<<24-8*((l+y)%4);else if(65535<n.length)for(y=0;y<i;y+=4)g[l+y>>>2]=n[y>>>2];else g.push.apply(g,n);return this.sigBytes+=i,this},clamp:function(){var i=this.words,g=this.sigBytes;i[g>>>2]&=4294967295<<32-8*(g%4),i.length=e.ceil(g/4)},clone:function(){var i=c.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var g=[],n=0;n<i;n+=4)g.push(4294967296*e.random()|0);return new p.init(g,i)}}),m=r.enc={},d=m.Hex={stringify:function(i){var g=i.words;i=i.sigBytes;for(var n=[],l=0;l<i;l++){var y=g[l>>>2]>>>24-8*(l%4)&255;n.push((y>>>4).toString(16)),n.push((y&15).toString(16))}return n.join("")},parse:function(i){for(var g=i.length,n=[],l=0;l<g;l+=2)n[l>>>3]|=parseInt(i.substr(l,2),16)<<24-4*(l%8);return new p.init(n,g/2)}},o=m.Latin1={stringify:function(i){var g=i.words;i=i.sigBytes;for(var n=[],l=0;l<i;l++)n.push(String.fromCharCode(g[l>>>2]>>>24-8*(l%4)&255));return n.join("")},parse:function(i){for(var g=i.length,n=[],l=0;l<g;l++)n[l>>>2]|=(i.charCodeAt(l)&255)<<24-8*(l%4);return new p.init(n,g)}},S=m.Utf8={stringify:function(i){try{return decodeURIComponent(escape(o.stringify(i)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(i){return o.parse(unescape(encodeURIComponent(i)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=S.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var g=this._data,n=g.words,l=g.sigBytes,y=this.blockSize,w=l/(4*y),w=i?e.ceil(w):e.max((w|0)-this._minBufferSize,0);if(i=w*y,l=e.min(4*i,l),i){for(var $=0;$<i;$+=y)this._doProcessBlock(n,$);$=n.splice(0,i),g.sigBytes-=l}return new p.init($,l)},clone:function(){var i=c.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});s.Hasher=h.extend({cfg:c.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(g,n){return new i.init(n).finalize(g)}},_createHmacHelper:function(i){return function(g,n){return new b.HMAC.init(i,n).finalize(g)}}});var b=r.algo={};return r}(Math);(function(){var e=P,t=e.lib.WordArray;e.enc.Base64={stringify:function(r){var s=r.words,a=r.sigBytes,c=this._map;r.clamp(),r=[];for(var p=0;p<a;p+=3)for(var m=(s[p>>>2]>>>24-8*(p%4)&255)<<16|(s[p+1>>>2]>>>24-8*((p+1)%4)&255)<<8|s[p+2>>>2]>>>24-8*((p+2)%4)&255,d=0;4>d&&p+.75*d<a;d++)r.push(c.charAt(m>>>6*(3-d)&63));if(s=c.charAt(64))for(;r.length%4;)r.push(s);return r.join("")},parse:function(r){var s=r.length,a=this._map,c=a.charAt(64);c&&(c=r.indexOf(c),c!=-1&&(s=c));for(var c=[],p=0,m=0;m<s;m++)if(m%4){var d=a.indexOf(r.charAt(m-1))<<2*(m%4),o=a.indexOf(r.charAt(m))>>>6-2*(m%4);c[p>>>2]|=(d|o)<<24-8*(p%4),p++}return t.create(c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(e){function t(h,b,i,g,n,l,y){return h=h+(b&i|~b&g)+n+y,(h<<l|h>>>32-l)+b}function r(h,b,i,g,n,l,y){return h=h+(b&g|i&~g)+n+y,(h<<l|h>>>32-l)+b}function s(h,b,i,g,n,l,y){return h=h+(b^i^g)+n+y,(h<<l|h>>>32-l)+b}function a(h,b,i,g,n,l,y){return h=h+(i^(b|~g))+n+y,(h<<l|h>>>32-l)+b}for(var c=P,p=c.lib,m=p.WordArray,d=p.Hasher,p=c.algo,o=[],S=0;64>S;S++)o[S]=4294967296*e.abs(e.sin(S+1))|0;p=p.MD5=d.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,b){for(var i=0;16>i;i++){var g=b+i,n=h[g];h[g]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360}var i=this._hash.words,g=h[b+0],n=h[b+1],l=h[b+2],y=h[b+3],w=h[b+4],$=h[b+5],x=h[b+6],C=h[b+7],U=h[b+8],T=h[b+9],E=h[b+10],L=h[b+11],K=h[b+12],I=h[b+13],A=h[b+14],O=h[b+15],f=i[0],v=i[1],k=i[2],_=i[3],f=t(f,v,k,_,g,7,o[0]),_=t(_,f,v,k,n,12,o[1]),k=t(k,_,f,v,l,17,o[2]),v=t(v,k,_,f,y,22,o[3]),f=t(f,v,k,_,w,7,o[4]),_=t(_,f,v,k,$,12,o[5]),k=t(k,_,f,v,x,17,o[6]),v=t(v,k,_,f,C,22,o[7]),f=t(f,v,k,_,U,7,o[8]),_=t(_,f,v,k,T,12,o[9]),k=t(k,_,f,v,E,17,o[10]),v=t(v,k,_,f,L,22,o[11]),f=t(f,v,k,_,K,7,o[12]),_=t(_,f,v,k,I,12,o[13]),k=t(k,_,f,v,A,17,o[14]),v=t(v,k,_,f,O,22,o[15]),f=r(f,v,k,_,n,5,o[16]),_=r(_,f,v,k,x,9,o[17]),k=r(k,_,f,v,L,14,o[18]),v=r(v,k,_,f,g,20,o[19]),f=r(f,v,k,_,$,5,o[20]),_=r(_,f,v,k,E,9,o[21]),k=r(k,_,f,v,O,14,o[22]),v=r(v,k,_,f,w,20,o[23]),f=r(f,v,k,_,T,5,o[24]),_=r(_,f,v,k,A,9,o[25]),k=r(k,_,f,v,y,14,o[26]),v=r(v,k,_,f,U,20,o[27]),f=r(f,v,k,_,I,5,o[28]),_=r(_,f,v,k,l,9,o[29]),k=r(k,_,f,v,C,14,o[30]),v=r(v,k,_,f,K,20,o[31]),f=s(f,v,k,_,$,4,o[32]),_=s(_,f,v,k,U,11,o[33]),k=s(k,_,f,v,L,16,o[34]),v=s(v,k,_,f,A,23,o[35]),f=s(f,v,k,_,n,4,o[36]),_=s(_,f,v,k,w,11,o[37]),k=s(k,_,f,v,C,16,o[38]),v=s(v,k,_,f,E,23,o[39]),f=s(f,v,k,_,I,4,o[40]),_=s(_,f,v,k,g,11,o[41]),k=s(k,_,f,v,y,16,o[42]),v=s(v,k,_,f,x,23,o[43]),f=s(f,v,k,_,T,4,o[44]),_=s(_,f,v,k,K,11,o[45]),k=s(k,_,f,v,O,16,o[46]),v=s(v,k,_,f,l,23,o[47]),f=a(f,v,k,_,g,6,o[48]),_=a(_,f,v,k,C,10,o[49]),k=a(k,_,f,v,A,15,o[50]),v=a(v,k,_,f,$,21,o[51]),f=a(f,v,k,_,K,6,o[52]),_=a(_,f,v,k,y,10,o[53]),k=a(k,_,f,v,E,15,o[54]),v=a(v,k,_,f,n,21,o[55]),f=a(f,v,k,_,U,6,o[56]),_=a(_,f,v,k,O,10,o[57]),k=a(k,_,f,v,x,15,o[58]),v=a(v,k,_,f,I,21,o[59]),f=a(f,v,k,_,w,6,o[60]),_=a(_,f,v,k,L,10,o[61]),k=a(k,_,f,v,l,15,o[62]),v=a(v,k,_,f,T,21,o[63]);i[0]=i[0]+f|0,i[1]=i[1]+v|0,i[2]=i[2]+k|0,i[3]=i[3]+_|0},_doFinalize:function(){var h=this._data,b=h.words,i=8*this._nDataBytes,g=8*h.sigBytes;b[g>>>5]|=128<<24-g%32;var n=e.floor(i/4294967296);for(b[(g+64>>>9<<4)+15]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,b[(g+64>>>9<<4)+14]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360,h.sigBytes=4*(b.length+1),this._process(),h=this._hash,b=h.words,i=0;4>i;i++)g=b[i],b[i]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;return h},clone:function(){var h=d.clone.call(this);return h._hash=this._hash.clone(),h}}),c.MD5=d._createHelper(p),c.HmacMD5=d._createHmacHelper(p)})(Math);(function(){var e=P,t=e.lib,r=t.Base,s=t.WordArray,t=e.algo,a=t.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,p){for(var m=this.cfg,d=m.hasher.create(),o=s.create(),S=o.words,h=m.keySize,m=m.iterations;S.length<h;){b&&d.update(b);var b=d.update(c).finalize(p);d.reset();for(var i=1;i<m;i++)b=d.finalize(b),d.reset();o.concat(b)}return o.sigBytes=4*h,o}});e.EvpKDF=function(c,p,m){return a.create(m).compute(c,p)}})();P.lib.Cipher||function(e){var t=P,r=t.lib,s=r.Base,a=r.WordArray,c=r.BufferedBlockAlgorithm,p=t.enc.Base64,m=t.algo.EvpKDF,d=r.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(n,l){return this.create(this._ENC_XFORM_MODE,n,l)},createDecryptor:function(n,l){return this.create(this._DEC_XFORM_MODE,n,l)},init:function(n,l,y){this.cfg=this.cfg.extend(y),this._xformMode=n,this._key=l,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(n){return this._append(n),this._process()},finalize:function(n){return n&&this._append(n),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(l,y,w){return(typeof y=="string"?g:i).encrypt(n,l,y,w)},decrypt:function(l,y,w){return(typeof y=="string"?g:i).decrypt(n,l,y,w)}}}});r.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var o=t.mode={},S=function(n,l,y){var w=this._iv;w?this._iv=e:w=this._prevBlock;for(var $=0;$<y;$++)n[l+$]^=w[$]},h=(r.BlockCipherMode=s.extend({createEncryptor:function(n,l){return this.Encryptor.create(n,l)},createDecryptor:function(n,l){return this.Decryptor.create(n,l)},init:function(n,l){this._cipher=n,this._iv=l}})).extend();h.Encryptor=h.extend({processBlock:function(n,l){var y=this._cipher,w=y.blockSize;S.call(this,n,l,w),y.encryptBlock(n,l),this._prevBlock=n.slice(l,l+w)}}),h.Decryptor=h.extend({processBlock:function(n,l){var y=this._cipher,w=y.blockSize,$=n.slice(l,l+w);y.decryptBlock(n,l),S.call(this,n,l,w),this._prevBlock=$}}),o=o.CBC=h,h=(t.pad={}).Pkcs7={pad:function(n,l){for(var y=4*l,y=y-n.sigBytes%y,w=y<<24|y<<16|y<<8|y,$=[],x=0;x<y;x+=4)$.push(w);y=a.create($,y),n.concat(y)},unpad:function(n){n.sigBytes-=n.words[n.sigBytes-1>>>2]&255}},r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:o,padding:h}),reset:function(){d.reset.call(this);var n=this.cfg,l=n.iv,n=n.mode;if(this._xformMode==this._ENC_XFORM_MODE)var y=n.createEncryptor;else y=n.createDecryptor,this._minBufferSize=1;this._mode=y.call(n,this,l&&l.words)},_doProcessBlock:function(n,l){this._mode.processBlock(n,l)},_doFinalize:function(){var n=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){n.pad(this._data,this.blockSize);var l=this._process(!0)}else l=this._process(!0),n.unpad(l);return l},blockSize:4});var b=r.CipherParams=s.extend({init:function(n){this.mixIn(n)},toString:function(n){return(n||this.formatter).stringify(this)}}),o=(t.format={}).OpenSSL={stringify:function(n){var l=n.ciphertext;return n=n.salt,(n?a.create([1398893684,1701076831]).concat(n).concat(l):l).toString(p)},parse:function(n){n=p.parse(n);var l=n.words;if(l[0]==1398893684&&l[1]==1701076831){var y=a.create(l.slice(2,4));l.splice(0,4),n.sigBytes-=16}return b.create({ciphertext:n,salt:y})}},i=r.SerializableCipher=s.extend({cfg:s.extend({format:o}),encrypt:function(n,l,y,w){w=this.cfg.extend(w);var $=n.createEncryptor(y,w);return l=$.finalize(l),$=$.cfg,b.create({ciphertext:l,key:y,iv:$.iv,algorithm:n,mode:$.mode,padding:$.padding,blockSize:n.blockSize,formatter:w.format})},decrypt:function(n,l,y,w){return w=this.cfg.extend(w),l=this._parse(l,w.format),n.createDecryptor(y,w).finalize(l.ciphertext)},_parse:function(n,l){return typeof n=="string"?l.parse(n,this):n}}),t=(t.kdf={}).OpenSSL={execute:function(n,l,y,w){return w||(w=a.random(8)),n=m.create({keySize:l+y}).compute(n,w),y=a.create(n.words.slice(l),4*y),n.sigBytes=4*l,b.create({key:n,iv:y,salt:w})}},g=r.PasswordBasedCipher=i.extend({cfg:i.cfg.extend({kdf:t}),encrypt:function(n,l,y,w){return w=this.cfg.extend(w),y=w.kdf.execute(y,n.keySize,n.ivSize),w.iv=y.iv,n=i.encrypt.call(this,n,l,y.key,w),n.mixIn(y),n},decrypt:function(n,l,y,w){return w=this.cfg.extend(w),l=this._parse(l,w.format),y=w.kdf.execute(y,n.keySize,n.ivSize,l.salt),w.iv=y.iv,i.decrypt.call(this,n,l,y.key,w)}})}();(function(){for(var e=P,t=e.lib.BlockCipher,U=e.algo,r=[],s=[],a=[],c=[],p=[],m=[],d=[],o=[],S=[],h=[],b=[],i=0;256>i;i++)b[i]=128>i?i<<1:i<<1^283;for(var g=0,n=0,i=0;256>i;i++){var l=n^n<<1^n<<2^n<<3^n<<4,l=l>>>8^l&255^99;r[g]=l,s[l]=g;var y=b[g],w=b[y],$=b[w],x=257*b[l]^16843008*l;a[g]=x<<24|x>>>8,c[g]=x<<16|x>>>16,p[g]=x<<8|x>>>24,m[g]=x,x=16843009*$^65537*w^257*y^16843008*g,d[l]=x<<24|x>>>8,o[l]=x<<16|x>>>16,S[l]=x<<8|x>>>24,h[l]=x,g?(g=y^b[b[b[$^y]]],n^=b[b[n]]):g=n=1}var C=[0,1,2,4,8,16,32,64,128,27,54],U=U.AES=t.extend({_doReset:function(){for(var T=this._key,E=T.words,L=T.sigBytes/4,T=4*((this._nRounds=L+6)+1),K=this._keySchedule=[],I=0;I<T;I++)if(I<L)K[I]=E[I];else{var A=K[I-1];I%L?6<L&&I%L==4&&(A=r[A>>>24]<<24|r[A>>>16&255]<<16|r[A>>>8&255]<<8|r[A&255]):(A=A<<8|A>>>24,A=r[A>>>24]<<24|r[A>>>16&255]<<16|r[A>>>8&255]<<8|r[A&255],A^=C[I/L|0]<<24),K[I]=K[I-L]^A}for(E=this._invKeySchedule=[],L=0;L<T;L++)I=T-L,A=L%4?K[I]:K[I-4],E[L]=4>L||4>=I?A:d[r[A>>>24]]^o[r[A>>>16&255]]^S[r[A>>>8&255]]^h[r[A&255]]},encryptBlock:function(T,E){this._doCryptBlock(T,E,this._keySchedule,a,c,p,m,r)},decryptBlock:function(T,E){var L=T[E+1];T[E+1]=T[E+3],T[E+3]=L,this._doCryptBlock(T,E,this._invKeySchedule,d,o,S,h,s),L=T[E+1],T[E+1]=T[E+3],T[E+3]=L},_doCryptBlock:function(T,E,L,K,I,A,O,f){for(var v=this._nRounds,k=T[E]^L[0],_=T[E+1]^L[1],M=T[E+2]^L[2],V=T[E+3]^L[3],W=4,re=1;re<v;re++)var q=K[k>>>24]^I[_>>>16&255]^A[M>>>8&255]^O[V&255]^L[W++],X=K[_>>>24]^I[M>>>16&255]^A[V>>>8&255]^O[k&255]^L[W++],ie=K[M>>>24]^I[V>>>16&255]^A[k>>>8&255]^O[_&255]^L[W++],V=K[V>>>24]^I[k>>>16&255]^A[_>>>8&255]^O[M&255]^L[W++],k=q,_=X,M=ie;q=(f[k>>>24]<<24|f[_>>>16&255]<<16|f[M>>>8&255]<<8|f[V&255])^L[W++],X=(f[_>>>24]<<24|f[M>>>16&255]<<16|f[V>>>8&255]<<8|f[k&255])^L[W++],ie=(f[M>>>24]<<24|f[V>>>16&255]<<16|f[k>>>8&255]<<8|f[_&255])^L[W++],V=(f[V>>>24]<<24|f[k>>>16&255]<<16|f[_>>>8&255]<<8|f[M&255])^L[W++],T[E]=q,T[E+1]=X,T[E+2]=ie,T[E+3]=V},keySize:8});e.AES=t._createHelper(U)})();P.mode.CTR=function(){var e=P.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(r,s){var a=this._cipher,c=a.blockSize,p=this._iv,m=this._counter;p&&(m=this._counter=p.slice(0),this._iv=void 0);var d=m.slice(0);a.encryptBlock(d,0),m[c-1]=m[c-1]+1|0;for(var o=0;o<c;o++)r[s+o]^=d[o]}});return e.Decryptor=t,e}();(function(e){var t;e.hasOwnProperty("ext")?t=e.ext:t=e.ext={},t.bitshift=function(r,s){var a=0,c=r.words,p,m=0,d;if(s>0){for(;s>31;)c.splice(0,1),c.push(0),s-=32,m++;if(s==0)return a;for(var o=c.length-m-1;o>=0;o--)p=c[o],c[o]<<=s,c[o]|=a,a=p>>>32-s}else if(s<0){for(;s<-31;)c.splice(0,0,0),c.length--,s+=32,m++;if(s==0)return a;s=-s,d=(1<<s)-1;for(var o=m;o<c.length;o++)p=c[o]&d,c[o]>>>=s,c[o]|=a,a=p<<32-s}return a},t.neg=function(r){for(var s=r.words,a=0;a<s.length;a++)s[a]=~s[a];return r},t.xor=function(r,s){for(var a=0;a<r.words.length;a++)r.words[a]^=s.words[a];return r},t.bitand=function(r,s){for(var a=r.clone(),c=a.words,p=s.words,m=0;m<c.length;m++)c[m]&=p[m];return a}})(P);(function(e){var t;e.hasOwnProperty("ext")?t=e.ext:t=e.ext={},e.lib.Base;var r=e.lib.WordArray;e.algo.AES,t.const_Zero=r.create([0,0,0,0]),t.const_One=r.create([0,0,0,1]),t.const_Rb=r.create([0,0,0,135]),t.const_Rb_Shifted=r.create([2147483648,0,0,67]),t.const_nonMSB=r.create([4294967295,4294967295,2147483647,2147483647]),t.isWordArray=function(s){return s&&typeof s.clamp=="function"&&typeof s.concat=="function"&&typeof s.words=="array"},e.pad.OneZeroPadding={pad:function(s,a){for(var c=a*4,p=c-s.sigBytes%c,m=[],d=0;d<p;d+=4){var o=0;d===0&&(o=2147483648),m.push(o)}var S=r.create(m,p);s.concat(S)},unpad:function(){}},e.pad.NoPadding={pad:function(){},unpad:function(){}},t.leftmostBytes=function(s,a){var c=s.clone();return c.sigBytes=a,c.clamp(),c},t.rightmostBytes=function(s,a){s.clamp();var c=32,p=s.clone(),m=(p.sigBytes-a)*8;if(m>=c){var d=Math.floor(m/c);m-=d*c,p.words.splice(0,d),p.sigBytes-=d*c/8}return m>0&&(t.bitshift(p,m),p.sigBytes-=m/8),p},t.popWords=function(s,a){var c=t.leftmostBytes(s,a*4);return s.words=s.words.slice(a),s.sigBytes-=a*4,c},t.shiftBytes=function(s,a){a=a||16;var c=a%4;a-=c;for(var p=r.create(),m=0;m<a;m+=4)p.words.push(s.words.shift()),s.sigBytes-=4,p.sigBytes+=4;return c>0&&(p.words.push(s.words[0]),p.sigBytes+=c,t.bitshift(s,c*8),s.sigBytes-=c),p},t.xorendBytes=function(s,a){return t.leftmostBytes(s,s.sigBytes-a.sigBytes).concat(t.xor(t.rightmostBytes(s,a.sigBytes),a))},t.dbl=function(s){var a=t.msb(s);return t.bitshift(s,1),t.xor(s,a===1?t.const_Rb:t.const_Zero),s},t.inv=function(s){var a=s.words[4]&1;return t.bitshift(s,-1),t.xor(s,a===1?t.const_Rb_Shifted:t.const_Zero),s},t.equals=function(s,a){if(!a||!a.words||s.sigBytes!==a.sigBytes)return!1;s.clamp(),a.clamp();for(var c=0,p=0;p<s.words.length;p++)c|=s.words[p]^a.words[p];return c===0},t.msb=function(s){return s.words[0]>>>31}})(P);(function(e){var t=e.lib.Base,r=e.lib.WordArray,s=e.algo.AES,a=e.ext,c=e.pad.OneZeroPadding;function p(d,o){var S=s.createEncryptor(d,{iv:r.create(),padding:e.pad.NoPadding}),h=S.finalize(o);return h}var m=e.algo.CMAC=t.extend({init:function(d){var o=p(d,a.const_Zero),S=o.clone();if(a.dbl(S),this._isTwo){var h=o.clone();a.inv(h)}else{var h=S.clone();a.dbl(h)}this._K1=S,this._K2=h,this._K=d,this._const_Bsize=16,this.reset()},reset:function(){this._x=a.const_Zero.clone(),this._counter=0,this._buffer=r.create()},update:function(d){if(!d)return this;var o=this._buffer,S=this._const_Bsize;for(typeof d=="string"&&(d=e.enc.Utf8.parse(d)),o.concat(d);o.sigBytes>S;){var h=a.shiftBytes(o,S);a.xor(this._x,h),this._x.clamp(),this._x=p(this._K,this._x),this._counter++}return this},finalize:function(d){this.update(d);var o=this._buffer,S=this._const_Bsize,h=o.clone();return o.sigBytes===S?a.xor(h,this._K1):(c.pad(h,S/4),a.xor(h,this._K2)),a.xor(h,this._x),this.reset(),p(this._K,h)},_isTwo:!1});e.CMAC=function(d,o){return m.create(d).finalize(o)},e.algo.OMAC1=m,e.algo.OMAC2=m.extend({_isTwo:!0})})(P);(function(e){var t=e.lib.Base,r=e.lib.WordArray;e.algo.AES;var s=e.ext,a=e.pad.OneZeroPadding,c=e.algo.CMAC,p=e.algo.S2V=t.extend({init:function(m){this._blockSize=16,this._cmacAD=c.create(m),this._cmacPT=c.create(m),this.reset()},reset:function(){this._buffer=r.create(),this._cmacAD.reset(),this._cmacPT.reset(),this._d=this._cmacAD.finalize(s.const_Zero),this._empty=!0,this._ptStarted=!1},updateAAD:function(m){return this._ptStarted?this:m?(typeof m=="string"&&(m=e.enc.Utf8.parse(m)),this._d=s.xor(s.dbl(this._d),this._cmacAD.finalize(m)),this._empty=!1,this):this},update:function(m){if(!m)return this;this._ptStarted=!0;var d=this._buffer,o=this._blockSize,S=o/4,h=this._cmacPT;for(typeof m=="string"&&(m=e.enc.Utf8.parse(m)),d.concat(m);d.sigBytes>=2*o;){this._empty=!1;var b=s.popWords(d,S);h.update(b)}return this},finalize:function(m){this.update(m);var d=this._blockSize,o=this._buffer;if(this._empty&&o.sigBytes===0)return this._cmacAD.finalize(s.const_One);var S;return o.sigBytes>=d?S=s.xorendBytes(o,this._d):(a.pad(o,d),S=s.xor(s.dbl(this._d),o)),this._cmacPT.finalize(S)}});e.SIV=t.extend({init:function(m){var d=m.sigBytes/2;this._s2vKey=s.shiftBytes(m,d),this._ctrKey=m},encrypt:function(m,d){!d&&m&&(d=m,m=[]);var o=p.create(this._s2vKey);Array.prototype.forEach.call(m,function(i){o.updateAAD(i)});var S=o.finalize(d),h=s.bitand(S,s.const_nonMSB),b=e.AES.encrypt(d,this._ctrKey,{iv:h,mode:e.mode.CTR,padding:e.pad.NoPadding});return S.concat(b.ciphertext)},decrypt:function(m,d){!d&&m&&(d=m,m=[]);var o=s.shiftBytes(d,16),S=s.bitand(o,s.const_nonMSB),h=e.AES.decrypt({ciphertext:d},this._ctrKey,{iv:S,mode:e.mode.CTR,padding:e.pad.NoPadding}),b=p.create(this._s2vKey);Array.prototype.forEach.call(m,function(g){b.updateAAD(g)});var i=b.finalize(h);return s.equals(o,i)?h:!1}})})(P);const At=new URL("/assets/sqlite.worker.710c9469.js",self.location),zt=new URL("/assets/sql-wasm.dd613b12.wasm",self.location),Et=()=>Math.random().toString(36).substr(2,9);let we=0;async function It(e){const t=e.state.key?P.SIV.create(P.enc.Hex.parse(e.state.key)):null;return function(s){if(t)try{let a=t.decrypt(P.enc.Hex.parse(s)).toString(P.enc.Utf8);a&&a!="false"&&(s=a)}catch{}return s}}async function Mt(){if(window._worker)return window._worker;if(we)return new Promise((t,r)=>{function s(){setTimeout(()=>{if(window._worker){t(window._worker);return}s()},50)}s()});we=1;async function e(){return await Fe.exports.createDbWorker([{from:"inline",config:{serverMode:"full",url:`${location.protocol}//${location.host}/analytics.sqlite3.png`,requestChunkSize:1024*32}}],At.toString(),zt.toString())}return window._worker=await e(),window._worker}async function ee(e){let t=await Mt(),r=Et();console.time("query time "+r);let s=await t.db.query(e);return console.log("query",e,s),console.timeEnd("query time "+r),s}function ve(e){return e||(e=new Date),(typeof e!="object"||!e.toISOString)&&(e=new Date(e)),e.toISOString().slice(0,10)}function oe(e,t){let r=[];if(e.state.host&&r.push(`host = '${e.state.host}'`),e.state.host&&e.state.key){const a=P.SIV.create(P.enc.Hex.parse(e.state.key)).encrypt(e.state.host).toString();r[0]=`(${r[0]} OR host = '${a}')`}return e.state.start&&e.state.end&&!t&&r.push(`date BETWEEN '${ve(e.state.start)}' AND '${ve(e.state.end)}'`),(r.length?" WHERE ":"")+(r.join(" AND ")||"")}async function Nt(e){if(!e.state.host)return[];const t=e.state.key?P.SIV.create(P.enc.Hex.parse(e.state.key)):null;let r=`SELECT pathname, AVG(load_time) as AvgLoadTime from visits${oe(e)} GROUP BY pathname ORDER BY AvgLoadTime DESC LIMIT 10;`,s=await ee(r);return t&&s.forEach(a=>{try{let c=t.decrypt(P.enc.Hex.parse(a.pathname)).toString(P.enc.Utf8);c&&c!="false"&&(a.pathname=c)}catch{}}),s}async function xe(e,t="hour",r=10){if(!e.state.host)return[];const s=e.state.key?P.SIV.create(P.enc.Hex.parse(e.state.key)):null,a=e.state.showVisitors?"count(DISTINCT ip)":"count(*)";let c=t==="hour"||t==="date",p=c?t:a,m=c?"ASC":"DESC",d=c?"":` LIMIT ${r}`,o=`SELECT ${t}, ${a} FROM visits${oe(e)} GROUP BY ${t} ORDER BY ${p} ${m}${d};`,S=await ee(o);return s&&S.forEach(h=>{try{let b=s.decrypt(P.enc.Hex.parse(h[t])).toString(P.enc.Utf8);b&&b!="false"&&(h[t]=b)}catch{}}),S}async function $e(e,t){let r=`SELECT * FROM summaries${oe(e,1)} AND date ${t>1e3&&t<3e3?"LIKE":"="} '${t}${t>1e3&&t<3e3?"-%":""}';`,s={},a=[];(await ee(r)).forEach(p=>{let m=JSON.parse(p.data);Object.keys(m).forEach(d=>{typeof m[d]=="number"?(s[d]||(s[d]=0),s[d]+=m[d]):d==="loadTimes"?(s[d]=[],s[d]||(s[d]=[]),a=a.concat(m[d]),a.map(S=>S.pathname).filter((S,h,b)=>b.indexOf(S)===h).forEach(S=>{let h=a.filter(g=>g.pathname=S),i=h.map(g=>g.AvgLoadTime).reduce((g,n)=>g+n,0)/h.length;s[d].push({pathname:S,AvgLoadTime:i})})):typeof m[d]=="object"&&(s[d]||(s[d]={}),Object.keys(m[d]).forEach(o=>{s[d][o]||(s[d][o]=0),s[d][o]+=m[d][o]}))})}),e.commit("setSummary",s)}const Z={toObject:function(e){return typeof e=="string"?JSON.parse(e):e},toBoolean:function(e){return typeof e=="string"?e==="true":e},toInt:function(e){return typeof e=="string"?parseInt(e):e}},B={id:{type:String,required:!0},data:{type:[String,Array],required:!0},barColors:{type:[String,Array,Function],required:!1},xkey:{type:String,required:!1,default:"key"},ykeys:{type:[String,Array],required:!1,default:function(){return["value"]}},labels:{type:[String,Array],required:!1,default:function(){return["Value"]}},hoverCallback:{type:Function,required:!1},axes:{type:[Boolean,String],required:!1,default:!0},hideHover:{type:String,required:!1},stacked:{type:[Boolean,String],required:!1},resize:{type:[Boolean,String],required:!1},horizontal:{type:[Boolean,String],required:!1,default:!1},grid:{type:[Boolean,String],required:!1,default:!0},gridTextColor:{type:String,required:!1,default:"#888"},gridTextSize:{type:[Number,String],required:!1,default:12},gridTextFamily:{type:String,required:!1,default:"sans-serif"},gridTextWeight:{type:String,required:!1,default:"normal"},colors:{type:[String,Array],required:!1},formatter:{type:Function,required:!1},lineColors:{type:[String,Array,Function],required:!1},xLabels:{type:String,required:!1},lineWidth:{type:[Number,String],required:!1},pointSize:{type:[Number,String],required:!1},pointFillColors:{type:[String,Array],required:!1},pointStrokeColors:{type:[String,Array],required:!1},ymax:{type:String,required:!1},ymin:{type:String,required:!1},smooth:{type:[Boolean,String],required:!1,default:!0},parseTime:{type:[Boolean,String],required:!1,default:!0},postUnits:{type:String,required:!1},preUnits:{type:String,required:!1},dateFormat:{type:Function,required:!1},xLabelFormat:{type:Function,required:!1},yLabelFormat:{type:Function,required:!1},xLabelAngle:{type:String,required:!1},goals:{type:[String,Array],required:!1},goalStrokeWidth:{type:[Number,String],required:!1},goalLineColors:{type:[String,Array],required:!1},events:{type:[String,Array],required:!1},eventStrokeWidth:{type:String,required:!1},eventLineColors:{type:[String,Array],required:!1},fillOpacity:{type:String,required:!1},behaveLikeLine:{type:[Boolean,String],required:!1,default:!1}},Rt={id:B.id,data:B.data,barColors:B.barColors,xkey:B.xkey,ykeys:B.ykeys,labels:B.labels,xLabelFormat:B.xLabelFormat,yLabelFormat:B.yLabelFormat,xLabelAngle:B.xLabelAngle,hoverCallback:B.hoverCallback,grid:B.grid,horizontal:B.horizontal,axes:B.axes,hideHover:B.hideHover,stacked:B.stacked,resize:B.resize,ymax:B.ymax,ymin:B.ymin,gridTextColor:B.gridTextColor,gridTextSize:B.gridTextSize,gridTextFamily:B.gridTextFamily,gridTextWeight:B.gridTextWeight},Pt={id:B.id,data:B.data,colors:B.colors,formatter:B.formatter,resize:B.resize},ue={id:B.id,data:B.data,resize:B.resize,lineColors:B.lineColors,xkey:B.xkey,ykeys:B.ykeys,labels:B.labels,xLabels:B.xLabels,grid:B.grid,gridTextColor:B.gridTextColor,gridTextSize:B.gridTextSize,gridTextFamily:B.gridTextFamily,gridTextWeight:B.gridTextWeight,lineWidth:B.lineWidth,pointSize:B.pointSize,pointFillColors:B.pointFillColors,pointStrokeColors:B.pointStrokeColors,ymax:B.ymax,ymin:B.ymin,smooth:B.smooth,hideHover:B.hideHover,parseTime:B.parseTime,postUnits:B.postUnits,preUnits:B.preUnits,dateFormat:B.dateFormat,xLabelFormat:B.xLabelFormat,yLabelFormat:B.yLabelFormat,xLabelAngle:B.xLabelAngle,goals:B.goals,goalStrokeWidth:B.goalStrokeWidth,goalLineColors:B.goalLineColors,events:B.events,eventStrokeWidth:B.eventStrokeWidth,eventLineColors:B.eventLineColors,fillOpacity:B.fillOpacity,hoverCallback:B.hoverCallback},Be={behaveLikeLine:B.behaveLikeLine};for(var ge in ue)ue.hasOwnProperty(ge)&&(Be[ge]=ue[ge]);const de={addOption(e,t){this[e]&&(t[e]=this[e])},addOptionAsObject(e,t){this[e]&&(t[e]=Z.toObject(this[e]))}};var Vt={bar:{props:Rt,methods:de},donut:{props:Pt,methods:de},line:{props:ue,methods:de},area:{props:Be,methods:de}},ye=(e,t)=>{const r=e.__vccOpts||e;for(const[s,a]of t)r[s]=a;return r};const Wt={name:"area-chart",mixins:[Vt.area],data(){return{chart:null}},watch:{data(e){this.$nextTick(()=>{this.chart.options.labels=Z.toObject(this.labels),this.chart.options.xkey=this.xkey,this.chart.options.ykeys=Z.toObject(this.ykeys),this.lineColors&&(this.chart.options.lineColors=Z.toObject(this.lineColors)),this.chart.setData(Z.toObject(this.data))})}},mounted(){let e={element:this.id,data:Z.toObject(this.data),resize:Z.toBoolean(this.resize),labels:Z.toObject(this.labels),xkey:this.xkey,ykeys:Z.toObject(this.ykeys),grid:Z.toBoolean(this.grid),gridTextColor:this.gridTextColor,gridTextSize:Z.toInt(this.gridTextSize),gridTextFamily:this.gridTextFamily,gridTextWeight:this.gridTextWeight,lineWidth:this.lineWidth,pointSize:this.pointSize,ymax:this.ymax,ymin:this.ymin,smooth:Z.toBoolean(this.smooth),hideHover:this.hideHover,parseTime:Z.toBoolean(this.parseTime),postUnits:this.postUnits,preUnits:this.preUnits,xLabelAngle:this.xLabelAngle,goalStrokeWidth:this.goalStrokeWidth,eventStrokeWidth:this.eventStrokeWidth,fillOpacity:this.fillOpacity,behaveLikeLine:this.behaveLikeLine};this.addOptionAsObject("lineColors",e),this.addOption("xLabels",e),this.addOptionAsObject("pointFillColors",e),this.addOptionAsObject("pointStrokeColors",e),this.addOption("dateFormat",e),this.addOption("xLabelFormat",e),this.addOption("yLabelFormat",e),this.addOptionAsObject("goals",e),this.addOptionAsObject("goalLineColors",e),this.addOptionAsObject("events",e),this.addOptionAsObject("eventLineColors",e),this.addOption("hoverCallback",e),this.chart=Morris.Area(e)}},qt=["id"];function Kt(e,t,r,s,a,c){return F(),z("div",{id:e.id},null,8,qt)}var Ht=ye(Wt,[["render",Kt]]);const Ut={id:"visits"},Yt={key:0,class:"spinner-border spinme",role:"status"},Gt={key:1},jt={setup(e){const t=te();let{start:r,end:s,host:a,range:c,summary:p,showVisitors:m}=ae();const d=G([]),o=G(!0),S=G(null),h=se(()=>c.value<2),b=se(()=>h.value?"hour":"date"),i=x=>h.value?new Date(x).toLocaleString():`${new Date(x).toLocaleString(navigator.language||"en-us",{weekday:"long"})},
${new Date(x).toLocaleDateString()}`,g=G("day");async function n(){if(!a.value)return o.value=!1;if(c.value>1e3?g.value="month":g.value=h.value?"hour":"day",c.value.length===7||c.value>1e3){let f=[],v=JSON.parse(JSON.stringify(p.value)),{pageviewsTimeseries:k,visitorsTimeseries:_}=v;if(!k||!k)return;Object.keys(m.value?_:k).forEach(M=>{f.push({date:M,value:(m.value?_:k)[M]})}),d.value=f,o.value=!1;return}const x=oe(t);let C=x.split(" ").pop().replace("'","").replace("'",""),U=m.value?"count(DISTINCT ip)":"count(*)",T=h.value?"hour":"date";const E=`SELECT ${T}, ${U} FROM visits${x} GROUP BY ${T} ORDER BY ${T} ASC;`;let L=await ee(E);L.forEach(f=>{h.value&&(f.hour=+new Date(`${C}T${f.hour<10?"0":""}${f.hour}:00:00Z`)),f.value=f["count(DISTINCT ip)"]||f["count(*)"],delete f["count(DISTINCT ip)"],delete f["count(*)"]}),d.value=L,o.value=!1;const K=`SELECT hour, count(*) FROM visits${oe(t,1)} AND date = '${ve()}' GROUP BY hour`,A=(await ee(K)).pop();let O=0;A&&(O=A["count(*)"]),t.commit("setLiveVisitors",O)}function l(x,C,U,T){return T.date&&(S.value=T.date),U}function y(x,C){t.commit("setRange",x)}function w(){if(S.value){let x=new Date-new Date(S.value),C=Math.floor(x/864e5)*-1;C>-33&&C<2&&y(C)}}function $(){(c.value===1||c.value<0)&&y(7)}return ne(n),H(a,n),H(c,n),H(p,n),H(m,n),(x,C)=>(F(),z("div",Ut,[o.value?(F(),z("div",Yt)):d.value.length?(F(),ke(Ht,{key:2,id:"line",data:d.value,xkey:D(b),ykey:"value",resize:"true",labels:D(m)?'[ "Visitors" ]':'[ "Pageviews" ]',"line-color":"#2847b7","fill-opacity":"0.16","line-width":"4",dateFormat:i,smooth:!1,xLabelAngle:"45",removed:"","data-xLabelFormat":"labelFormat","data-xLabels":"xLabel",hoverCallback:l,onClick:w,onDblclick:$,grid:"true","grid-text-weight":"bold"},null,8,["data","xkey","labels"])):(F(),z("div",Gt,"No data for selected period"))]))}};var Zt=ye(jt,[["__scopeId","data-v-06790d70"]]);const Jt={key:0,class:"card-header"},Xt={class:"card-body"},Qt={key:0,class:"card-title"},es={key:1,class:"spinner-border spinme",role:"status"},ts={key:1,class:"card-footer"},_e={props:{header:String,title:String,body:String,footer:String,loading:Boolean},setup(e){const{dark:t}=ae();return(r,s)=>(F(),z("div",{class:Q(["card min-357",{"bg-dark":D(t)}])},[e.header?(F(),z("div",Jt,[me(r.$slots,"header",{},()=>[j(N(e.header),1)])])):Y("",!0),u("div",Xt,[e.title?(F(),z("h5",Qt,N(e.title),1)):Y("",!0),e.loading?(F(),z("div",es)):Y("",!0),me(r.$slots,"default",{},()=>[j(N(e.body),1)])]),e.footer?(F(),z("div",ts,[me(r.$slots,"footer",{},()=>[j(N(e.footer),1)])])):Y("",!0)],2))}};const ss={class:"col-6 col-md-3"},is={class:"card-title"},he={props:{title:String,underline:Boolean,muted:{type:Boolean,default:!0}},setup(e){const t=e,r=te();let s=G("-");const{host:a,range:c,summary:p}=ae();function m(S){return`${(S*100).toFixed(2)}%`}function d(S){return(S-(S%=60))/60+"m "+parseInt(S)}async function o(){if(!r.state.host)return;if(c.value.length===7||c.value>1e3){t.title==="Visitors"?s.value=p.value.visitors:t.title==="Total Pageviews"?s.value=p.value.pageviews:t.title==="Bounce Rate"?s.value=m(p.value.onePageVisits/p.value.visitors):t.title==="Session Length"&&(s.value=d(p.value.sessionLength));return}const S=oe(r);if(t.title==="Visitors"){const h=`SELECT count(DISTINCT ip) from visits${S}`;let b=await ee(h);s.value=b[0]["count(DISTINCT ip)"]}else if(t.title==="Total Pageviews"){const h=`SELECT count(*) from VISITS${S}`;let b=await ee(h);s.value=b[0]["count(*)"]}else if(t.title==="Bounce Rate"){let h=`SELECT count(DISTINCT ip) from visits${S}`,b=await ee(h),i=b[0]["count(DISTINCT ip)"];h=`SELECT count(DISTINCT ip) from visits${S} AND is_new = 1`,b=await ee(h);let g=b[0]["count(DISTINCT ip)"];s.value=i===0?0:m(g/i)}else if(t.title==="Session Length"){const h=`SELECT AVG(x.MaxValue) FROM (SELECT ip, max(session_length) as MaxValue from visits${S} GROUP BY ip) x`;let b=await ee(h);s.value=d(b[0]["AVG(x.MaxValue)"])||0}}return ne(o),H(a,o),H(c,o),H(p,o),(S,h)=>(F(),z("div",ss,[u("h6",{class:Q(["card-subtitle mb-2",{"text-muted":e.muted,"text-decoration-underline":e.underline,"link-color":e.underline}])},N(e.title),3),u("h4",is,N(D(s)),1)]))}},as={class:"mt-2 pseudotable"},ns={key:0,class:"spinner-border spinme",role:"status"},os={key:1,class:"mb-1"},rs={class:"mb-1"},ls=j("\xA0 "),cs={key:0,style:{display:"inline-block","margin-left":"-3px"}},us=j("\xA0\u2009 "),ds={key:1},hs={key:2,style:{display:"inline-block"}},fs=["src"],ms=j("\xA0\u2009 "),ps={key:3,style:{display:"inline-block"}},vs=["src"],gs=j("\xA0\u2009 "),ys={key:4,style:{display:"inline-block"}},_s=["src"],bs=j("\xA0\u2009 "),ks={key:5,style:{display:"inline-block"}},Ss=["href"],ws={key:6},xs={class:"float-right text-right pt-1"},J={props:{column:String,iconify:Boolean,favicons:Boolean,browserIcons:Boolean,osIcons:Boolean,links:Boolean,linkPrefix:String,limit:Number,defaultText:String,valueColumn:String,loadTimes:Boolean,valueFormatter:Function,keyFormatter:Function},setup(e){const{column:t,iconify:r,favicons:s,browserIcons:a,osIcons:c,links:p,linkPrefix:m,limit:d,defaultText:o,valueColumn:S,loadTimes:h,valueFormatter:b,keyFormatter:i}=e,g=te(),{host:n,range:l,summary:y,showVisitors:w}=ae(),$=se(()=>S||(w.value?"count(DISTINCT ip)":"count(*)")),x=G([]),C=G(0),U=G(!0);async function T(){if(l.value.length===7||l.value>1e3){let v=JSON.parse(JSON.stringify(y.value)),k=await It(g),_=$.value,M=t+(w.value?"__visitors":"");h&&(M="loadTimes");let V=v[M];if(V){let W=[];h?W=V:Object.keys(V).forEach(q=>{let X={};parseInt(q)==q&&(q=parseInt(q)),q=="null"&&(q=null),X[_]=V[q],X[t]=q,W.push(X)});let re=W.filter(q=>!q[M]);if(re.length>1){let q=re.map(le=>le[_]).reduce((le,Ce)=>le+=Ce),X=W.filter(le=>le[t]),ie={};ie[t]=null,ie[_]=q,X.unshift(ie),W=X}W.sort((q,X)=>X[_]-q[_]),W.forEach(q=>q[t]=k(q[t])),W.length>10&&(W=W.slice(0,10)),x.value=W;try{C.value=W[0][_]}catch{C.value=0}U.value=!1}return}let O=h?await Nt(g):await xe(g,t,d||10),f=O.filter(v=>!v[t]);if(f.length>1){let v=f.map(M=>M[$.value]).reduce((M,V)=>M+=V),k=O.filter(M=>M[t]),_={};_[t]=null,_[$.value]=v,k.unshift(_),O=k}O.sort((v,k)=>k[$.value]-v[$.value]),x.value=O;try{C.value=O[0][$.value]}catch{C.value=0}U.value=!1}function E(O,f=48,v="web"){const k="avant,basilisk,brave,browsh,chrome,chromium,deno,dolphin,edge,electron,epic,falkon,firefox,geckoview,hermes,icecat,jsdom,konqueror,maxthon,midori,netsurf,node.js,nw.js,opera,otter,puffin,qutebrowser,safari,seamonkey,servo,silk,spidermonkey,tor,uc,v8,vivaldi,web,webkit,yandex".split(","),_=O.toLowerCase().trim().split(" ");let M=k.filter(V=>_.includes(V));return M.length&&(v=M[0]),`https://cdnjs.cloudflare.com/ajax/libs/browser-logos/72.0.0/${v}/${v}_${f}x${f}.png`}function L(O){const f="AIX,AND,AMG,ATV,ARL,BTR,SBA,BEO,BLB,QNX,CAI,CES,COS,CYN,DEB,DEE,DFB,FED,FOS,FIR,BSD,FYD,GNT,GTV,HPX,HAI,IPA,HAR,KOS,KNO,KBT,LIN,LBT,MAC,MAE,MAG,MDR,SMG,MIN,MOR,NBS,WII,NDS,OS2,OBS,OWR,PCL,PSP,PS3,RHT,ROS,ROK,RSO,REM,REX,SAB,SSE,SAF,SLW,SOS,SYL,SYM,SYS,S40,S60,SY3,TDX,TIZ,UBT,WAS,WHS,WIN,WCE,WIO,WMO,WPH,WRT,XBX,XBT,YNS,IOS,POS,WOS".split(","),v="aix,android,amigaos,tvos,arch linux,backtrack,bada,beos,blackberry os,blackberry tablet os,caixa m\xE1gica,centos,chrome os,cyanogenmod,debian,deepin,dragonfly,fedora,firefox os,fire os,freebsd,fydeos,gentoo,google tv,hp-ux,haiku os,ipados,harmonyos,kaios,knoppix,kubuntu,linux,lubuntu,mac,maemo,mageia,mandriva,meego,mint,morphos,netbsd,nintendo,nintendo mobile,os/2,openbsd,openwrt,pclinuxos,playstation portable,playstation,red hat,risc os,roku os,rosa,remix os,rex,sabayon,suse,sailfish os,slackware,solaris,syllable,symbian,symbian os,symbian os series 40,symbian os series 60,symbian^3,threadx,tizen,ubuntu,watchos,whale os,windows,windows ce,windows iot,windows mobile,windows phone,windows rt,xbox,xubuntu,yunos,ios,palmos,webos".split(","),k="16,24,32,48,64,128,256,512".split(",");let _="",M=k[3];O=O.toLowerCase().trim();let V=v.map(W=>O.includes(W)).indexOf(!0);return V>0&&(_=f[V]),_?`https://cdn.jsdelivr.net/npm/@egoistdeveloper/operating-system-logos/src/${M}x${M}/${_}.png`:"/default.png"}function K(O){return O=(O+"").toLowerCase().trim(),{desktop:"bi bi-pc-display-horizontal",laptop:"bi bi-laptop",tablet:"bi bi-tablet",mobile:"bi bi-phone",returning:"bi bi-arrow-repeat",new:"bi bi-person-plus","normal users":"bi bi-person-square","headless browsers":"bi bi-robot"}[O]}function I(O){return O=(O+"").toLowerCase().trim(),O.indexOf("http")===0&&(O=new URL(O).hostname),O}function A(O,f=40){return O&&O.length>f&&(O=O.substring(0,f)+"..."),O}return ne(T),H(n,T),H(l,T),H(y,T),H(w,T),(O,f)=>(F(),z("div",as,[U.value?(F(),z("div",ns)):x.value.length?(F(!0),z(fe,{key:2},be(x.value,v=>(F(),z("div",rs,[u("div",{class:"shaded d-inline-block bg-grey text-nowrap pt-1 pb-1",style:Ae(`width: ${v[D($)]/C.value*85}%`)},[ls,e.iconify&&K(e.keyFormatter?e.keyFormatter(v[e.column]):v[e.column])?(F(),z("div",cs,[u("i",{class:Q(K(e.keyFormatter?e.keyFormatter(v[e.column]):v[e.column]))},null,2),us])):Y("",!0),v[e.column]?Y("",!0):(F(),z("span",ds,N(e.defaultText||"None"),1)),e.favicons?(F(),z("div",hs,[v[e.column]&&e.favicons?(F(),z("img",{key:0,src:`https://logo.clearbit.com/${I(v[e.column])}`,onerror:"this.onerror=null; this.src='default.png';"},null,8,fs)):Y("",!0),ms])):Y("",!0),e.browserIcons?(F(),z("div",ps,[v[e.column]&&e.browserIcons?(F(),z("img",{key:0,src:`${E(v[e.column])}`},null,8,vs)):Y("",!0),gs])):Y("",!0),e.osIcons?(F(),z("div",ys,[v[e.column]&&e.osIcons?(F(),z("img",{key:0,src:`${L(v[e.column])}`},null,8,_s)):Y("",!0),bs])):Y("",!0),e.links?(F(),z("div",ks,[v[e.column]&&e.links?(F(),z("a",{key:0,class:"d-inline-block text-truncate",href:`${v[e.column].indexOf("http")?"http://":""}${e.linkPrefix||""}${v[e.column]}`,target:"_blank"},N(A(v[e.column])),9,Ss)):Y("",!0)])):Y("",!0),v[e.column]&&!e.links?(F(),z("span",ws,N(e.keyFormatter?e.keyFormatter(v[e.column]):v[e.column]),1)):Y("",!0)],4),u("span",xs,N(e.valueFormatter?e.valueFormatter(v[D($)]):v[D($)]),1)]))),256)):(F(),z("div",os," No data for selected period "))]))}},$s={name:"svg-map",data(){return{id:"svg-map-"+Math.random().toString(36).substr(2,9)}},props:{countries:{type:Object},dark:{type:Boolean},showVisitors:{type:Boolean}},methods:{createMap(){let e={};this.showVisitors?e.visitors={name:"visitors",format:"{0}",thousandSeparator:","}:e.pageviews={name:"pageviews",format:"{0}",thousandSeparator:","},new svgMap({targetElementID:this.id,colorMax:this.dark?"#4c9be8":"#3459E6",colorMin:"#c7d2fc",colorNoData:this.dark?"rgb(78, 93, 108)":"#E2E2E2",data:{data:e,applyData:this.showVisitors?"visitors":"pageviews",values:this.countries||{}}})}},computed:{bundle(){let{countries:e,dark:t}=this;return{countries:e,dark:t}}},mounted(){this.createMap()},watch:{bundle(e){this.$refs.svgMap.innerHTML="",this.$nextTick(()=>{this.createMap()})}}},Bs=["id"];function Cs(e,t,r,s,a,c){return F(),z("div",{id:a.id,ref:"svgMap"},null,8,Bs)}var Ts=ye($s,[["render",Cs]]);const Os={class:"container mt-5"},Ls={class:"row"},Ds={class:"col-md-12"},Fs={class:"row"},As={class:"row mt-3"},zs={class:"col-md-6"},Es={class:"card-body"},Is=Se('<h5 class="card-title float-left" style="margin-bottom:-37px;">Sources</h5><ul class="nav nav-tabs float-right"><li class="nav-item ms-auto"><a class="nav-link active" data-bs-toggle="tab" href="#referrers"><span class="d-none d-sm-inline">Referrers</span><span class="d-inline d-sm-none">All</span></a></li><li class="nav-item ms-auto"><a class="nav-link" data-bs-toggle="tab" href="#referrer_urls">URLs</a></li><li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#medium">Medium</a></li><li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#source">Source</a></li><li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#campaign">Campaign</a></li></ul>',2),Ms={class:"tab-content mt-5"},Ns={class:"tab-pane fade active show",id:"referrers"},Rs=u("small",{class:"text-muted w-495 d-inline-block"},"Source",-1),Ps={class:"text-muted w-495 d-inline-block text-right"},Vs={class:"tab-pane fade show",id:"referrer_urls"},Ws=u("small",{class:"text-muted w-495 d-inline-block"},"Source",-1),qs={class:"text-muted w-495 d-inline-block text-right"},Ks={class:"tab-pane fade show",id:"medium"},Hs=u("small",{class:"text-muted w-495 d-inline-block"},"Source",-1),Us={class:"text-muted w-495 d-inline-block text-right"},Ys={class:"tab-pane fade show",id:"source"},Gs=u("small",{class:"text-muted w-495 d-inline-block"},"Source",-1),js={class:"text-muted w-495 d-inline-block text-right"},Zs={class:"tab-pane fade show",id:"campaign"},Js=u("small",{class:"text-muted w-495 d-inline-block"},"Source",-1),Xs={class:"text-muted w-495 d-inline-block text-right"},Qs={class:"col-md-6 mt-3 mt-sm-0"},ei={class:"card-body"},ti=Se('<h5 class="card-title float-left" style="margin-bottom:-37px;">Pages</h5><ul class="nav nav-tabs float-right"><li class="nav-item ms-auto"><a class="nav-link active" data-bs-toggle="tab" href="#pages">Top Pages</a></li><li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#loadtimes">Load Times</a></li></ul>',2),si={class:"tab-content mt-5"},ii={class:"tab-pane fade show active",id:"pages"},ai=u("small",{class:"text-muted w-495 d-inline-block"},"Page URL",-1),ni={class:"text-muted w-495 d-inline-block text-right"},oi={class:"tab-pane fade show",id:"loadtimes"},ri=u("small",{class:"text-muted w-495 d-inline-block"},"Page URL",-1),li=u("small",{class:"text-muted w-495 d-inline-block text-right"},"Avg. Load Time",-1),ci={class:"row mt-3"},ui={class:"col-md-6"},di={class:"col-md-6 mt-3 mt-sm-0"},hi=u("h5",{class:"card-title float-left",style:{"margin-bottom":"-37px"}},"Users",-1),fi=u("ul",{class:"nav nav-tabs float-right"},[u("li",{class:"nav-item ms-auto"},[u("a",{class:"nav-link active","data-bs-toggle":"tab",href:"#size"},[u("span",{class:"d-none d-sm-inline"},"Device "),j("Type")])]),u("li",{class:"nav-item"},[u("a",{class:"nav-link d-none d-sm-inline-block","data-bs-toggle":"tab",href:"#new"},"Returning")]),u("li",{class:"nav-item"},[u("a",{class:"nav-link","data-bs-toggle":"tab",href:"#browser"},"Browser")]),u("li",{class:"nav-item"},[u("a",{class:"nav-link","data-bs-toggle":"tab",href:"#language"},[j("Lang"),u("span",{class:"d-none d-sm-inline"},"uage")])]),u("li",{class:"nav-item"},[u("a",{class:"nav-link","data-bs-toggle":"tab",href:"#os"},"OS")])],-1),mi={class:"tab-content mt-5"},pi={class:"tab-pane fade show active",id:"size"},vi=u("small",{class:"text-muted w-495 d-inline-block"},"Device Type",-1),gi={class:"text-muted w-495 d-inline-block text-right"},yi=u("hr",null,null,-1),_i={class:"tab-pane fade",id:"new"},bi=u("small",{class:"text-muted w-495 d-inline-block"},"New vs. Returning",-1),ki={class:"text-muted w-495 d-inline-block text-right"},Si={class:"tab-pane fade",id:"browser"},wi=u("small",{class:"text-muted w-495 d-inline-block"},"Browser",-1),xi={class:"text-muted w-495 d-inline-block text-right"},$i={class:"tab-pane fade",id:"language"},Bi=u("small",{class:"text-muted w-495 d-inline-block"},"Language",-1),Ci={class:"text-muted w-495 d-inline-block text-right"},Ti={class:"tab-pane fade",id:"os"},Oi=u("small",{class:"text-muted w-495 d-inline-block"},"OS",-1),Li={class:"text-muted w-495 d-inline-block text-right"},Di={setup(e){const t=l=>Math.max(0,l.toFixed(2)),r=l=>(l||"").charAt(0).toUpperCase()+(l||"").slice(1),s=l=>l?"New":"Returning",a=l=>l?"Headless Browsers":"Normal Users",c=l=>{let y={aa:"Afar",ab:"Abkhazian",ae:"Avestan",af:"Afrikaans",ak:"Akan",am:"Amharic",an:"Aragonese",ar:"Arabic",as:"Assamese",av:"Avaric",ay:"Aymara",az:"Azerbaijani",ba:"Bashkir",be:"Belarusian",bg:"Bulgarian",bh:"Bihari languages",bi:"Bislama",bm:"Bambara",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan; Valencian",ce:"Chechen",ch:"Chamorro",co:"Corsican",cr:"Cree",cs:"Czech",cu:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic",cv:"Chuvash",cy:"Welsh",da:"Danish",de:"German",dv:"Divehi; Dhivehi; Maldivian",dz:"Dzongkha",ee:"Ewe",el:"Greek, Modern (1453-)",en:"English",eo:"Esperanto",es:"Spanish; Castilian",et:"Estonian",eu:"Basque",fa:"Persian",ff:"Fulah",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Western Frisian",ga:"Irish",gd:"Gaelic; Scomttish Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",gv:"Manx",ha:"Hausa",he:"Hebrew",hi:"Hindi",ho:"Hiri Motu",hr:"Croatian",ht:"Haitian; Haitian Creole",hu:"Hungarian",hy:"Armenian",hz:"Herero",ia:"Interlingua (International Auxiliary Language Association)",id:"Indonesian",ie:"Interlingue; Occidental",ig:"Igbo",ii:"Sichuan Yi; Nuosu",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",ka:"Georgian",kg:"Kongo",ki:"Kikuyu; Gikuyu",kj:"Kuanyama; Kwanyama",kk:"Kazakh",kl:"Kalaallisut; Greenlandic",km:"Central Khmer",kn:"Kannada",ko:"Korean",kr:"Kanuri",ks:"Kashmiri",ku:"Kurdish",kv:"Komi",kw:"Cornish",ky:"Kirghiz; Kyrgyz",la:"Latin",lb:"Luxembourgish; Letzeburgesch",lg:"Ganda",li:"Limburgan; Limburger; Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",mg:"Malagasy",mh:"Marshallese",mi:"Maori",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",na:"Nauru",nb:"Bokm\xE5l, Norwegian; Norwegian Bokm\xE5l",nd:"Ndebele, North; North Ndebele",ne:"Nepali",ng:"Ndonga",nl:"Dutch; Flemish",nn:"Norwegian Nynorsk; Nynorsk, Norwegian",no:"Norwegian",nr:"Ndebele, South; South Ndebele",nv:"Navajo; Navaho",ny:"Chichewa; Chewa; Nyanja",oc:"Occitan (post 1500)",oj:"Ojibwa",om:"Oromo",or:"Oriya",os:"Ossetian; Ossetic",pa:"Panjabi; Punjabi",pi:"Pali",pl:"Polish",ps:"Pushto; Pashto",pt:"Portuguese",qu:"Quechua",rm:"Romansh",rn:"Rundi",ro:"Romanian; Moldavian; Moldovan",ru:"Russian",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sg:"Sango",si:"Sinhala; Sinhalese",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",ss:"Swati",st:"Sotho, Southern",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga (Tonga Islands)",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur; Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xFCk",wa:"Walloon",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang; Chuang",zh:"Chinese",zu:"Zulu"},w=l;try{w=w.toLowerCase().split("-")[0]}catch{}try{w=y[w]}catch{}return(!w||w=="undefined")&&(w="Unknown"),w+" ("+l+")"},p=te(),m=G({}),{range:d,host:o,dark:S,summary:h,showVisitors:b}=ae(),i=se(()=>b.value?"Visitors":"Pageviews");async function g(){if(d.value.length===7||d.value>1e3){let w=JSON.parse(JSON.stringify(h.value)),$=b.value?w.country_code__visitors:w.country_code;if($){let x={};Object.keys($).forEach(C=>{b.value?x[C]={visitors:$[C]}:x[C]={pageviews:$[C]}}),m.value=x}return}let l=await xe(p,"country_code",999),y={};l.forEach(w=>{b.value?y[w.country_code]={visitors:w["count(DISTINCT ip)"]}:y[w.country_code]={pageviews:w["count(*)"]}}),m.value=y}function n(){(typeof d.value=="string"&&d.value.length===7||d.value>1e3&&d.value<3e3)&&$e(p,d.value)}return ne(g),ne(n),H(o,g),H(o,n),H(d,g),H(d,n),H(h,g),H(b,g),(l,y)=>(F(),z("div",Os,[R(Ft),u("div",Ls,[u("div",Ds,[R(_e,null,{default:pe(()=>[u("div",Fs,[R(he,{title:"Visitors",muted:!1,underline:!D(b),onClick:y[0]||(y[0]=w=>D(p).commit("setShowVisitors",!0))},null,8,["underline"]),R(he,{title:"Total Pageviews",muted:!1,underline:D(b),onClick:y[1]||(y[1]=w=>D(p).commit("setShowVisitors",!1))},null,8,["underline"]),R(he,{title:"Bounce Rate"}),R(he,{title:"Session Length"})]),R(Zt)]),_:1})])]),u("div",As,[u("div",zs,[u("div",{class:Q(["card min-357",{"bg-dark":D(S)}])},[u("div",Es,[Is,u("div",Ms,[u("div",Ns,[Rs,u("small",Ps,N(D(i)),1),R(J,{column:"referer_host",favicons:!0,links:!0,defaultText:"Direct / None"})]),u("div",Vs,[Ws,u("small",qs,N(D(i)),1),R(J,{column:"referer_url",favicons:!0,links:!0,defaultText:"Direct / None"})]),u("div",Ks,[Hs,u("small",Us,N(D(i)),1),R(J,{column:"utm_medium"})]),u("div",Ys,[Gs,u("small",js,N(D(i)),1),R(J,{column:"utm_source"})]),u("div",Zs,[Js,u("small",Xs,N(D(i)),1),R(J,{column:"utm_campaign"})])])])],2)]),u("div",Qs,[u("div",{class:Q(["card min-357",{"bg-dark":D(S)}])},[u("div",ei,[ti,u("div",si,[u("div",ii,[ai,u("small",ni,N(D(i)),1),R(J,{column:"pathname",linkPrefix:D(o),links:!0,defaultText:"None"},null,8,["linkPrefix"])]),u("div",oi,[ri,li,R(J,{column:"pathname",valueColumn:"AvgLoadTime",linkPrefix:D(o),links:!0,loadTimes:!0,valueFormatter:t},null,8,["linkPrefix"])])])])],2)])]),u("div",ci,[u("div",ui,[R(_e,{title:"Countries"},{default:pe(()=>[R(Ts,{countries:m.value,dark:D(S),showVisitors:D(b)},null,8,["countries","dark","showVisitors"])]),_:1})]),u("div",di,[R(_e,null,{default:pe(()=>[hi,fi,u("div",mi,[u("div",pi,[vi,u("small",gi,N(D(i)),1),R(J,{column:"device_type",iconify:!0,keyFormatter:r}),yi,R(J,{column:"bot",iconify:!0,defaultText:"Normal Users",keyFormatter:a})]),u("div",_i,[bi,u("small",ki,N(D(i)),1),R(J,{column:"is_new",iconify:!0,defaultText:"Returning",keyFormatter:s})]),u("div",Si,[wi,u("small",xi,N(D(i)),1),R(J,{column:"browser",browserIcons:!0})]),u("div",$i,[Bi,u("small",Ci,N(D(i)),1),R(J,{column:"lang",keyFormatter:c})]),u("div",Ti,[Oi,u("small",Li,N(D(i)),1),R(J,{column:"os",osIcons:!0})])])]),_:1})])])]))}};const Fi={setup(e){const t=te();function r(){let s=localStorage.getItem("__analytics_encryption_key"),a=localStorage.getItem("__analytics_public_key"),c=localStorage.getItem("__analytics_hosts");if(c)try{c=JSON.parse(c)}catch{}Array.isArray(c)||(c=null);let p={};location.search.slice(1).split("&").map(d=>d.split("=")).forEach(d=>p[d[0]]=d[1]);async function m(){let d="/keypair";location.hostname==="localhost"&&(d="https://analytics.servers.do/keypair");let S=await(await fetch(d)).json(),{public_key:h,private_key:b}=S;localStorage.setItem("__analytics_encryption_key",b),localStorage.setItem("__analytics_public_key",h),t.commit("setPublicKey",h),t.commit("setKey",b)}if(p.key){try{p.key=decodeURIComponent(p.key)}catch{}localStorage.setItem("__analytics_encryption_key",p.key),t.commit("setKey",p.key)}else s&&t.commit("setKey",s);if(p.pkey){try{p.pkey=decodeURIComponent(p.pkey)}catch{}localStorage.setItem("__analytics_public_key",p.pkey),t.commit("setPublicKey",p.pkey)}else a?t.commit("setPublicKey",a):m();p.host&&((!c||!Array.isArray(c))&&(c=[]),c.includes(p.host)||c.push(p.host),localStorage.setItem("__analytics_hosts",JSON.stringify(c))),c&&(c.sort((d,o)=>d.localeCompare(o)),t.commit("setDomains",c)),t.commit("setHost",p.host||""),t.commit("setRange",p.range)}return r(),addEventListener("popstate",s=>{console.log("onpopstate location: "+document.location),r()}),(s,a)=>(F(),z(fe,null,[R(Je),R(Di),R(qe),R(ft)],64))}};ze(Fi).use(Ie).mount("#app");
